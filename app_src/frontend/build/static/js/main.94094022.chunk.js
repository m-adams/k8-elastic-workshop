(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(233)},145:function(e,t,a){},218:function(e,t,a){e.exports=a.p+"static/media/01.a0af5a25.png"},219:function(e,t,a){e.exports=a.p+"static/media/02.535ed347.png"},220:function(e,t,a){e.exports=a.p+"static/media/03.535ed347.png"},221:function(e,t,a){e.exports=a.p+"static/media/04.87f8d159.png"},222:function(e,t,a){e.exports=a.p+"static/media/05.5e0a28a3.png"},223:function(e,t,a){e.exports=a.p+"static/media/06.ce496f9e.png"},224:function(e,t,a){e.exports=a.p+"static/media/07.07366242.png"},225:function(e,t,a){e.exports=a.p+"static/media/08.e7abc4c0.png"},226:function(e,t,a){e.exports=a.p+"static/media/09.09aec794.png"},227:function(e,t,a){e.exports=a.p+"static/media/10.39522226.png"},228:function(e,t,a){e.exports=a.p+"static/media/11.24d2241e.png"},229:function(e,t,a){e.exports=a.p+"static/media/12.484f36f7.png"},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),o=a.n(c),l=a(11),s=a(12),i=a(14),u=a(13),d=a(15),p=a(20),m=a(45),f=a.n(m),h=function(e,t){switch(t){case"BRL":return e.toFixed(2).replace(".",",");default:return e.toFixed(2)}},v="/api/orders",E=(a(145),function(){return r.a.createElement("div",{className:"spinner lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),b=function(e){return r.a.createElement("div",{className:"shelf-container-header"},r.a.createElement("small",{className:"products-found"},r.a.createElement("span",null,e.productsLength," Product(s) found.")))},O=a(21),g=a(46),y=a(38),_=function(e){return r.a.createElement("div",{className:e.classes},r.a.createElement("img",{src:e.src,alt:e.alt,title:e.title}))},j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,item:void 0,error:!1},a.handleFetchProducts=function(){var e=a.props.id;a.setState({isLoading:!0}),a.props.getProductDetails(e,function(){a.setState({isLoading:!1})})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;f.a.get("/api/items/"+this.props.id).then(function(t){var a=t.data;e.setState({item:a})}).catch(function(t){e.setState({item:"error"})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.item,c=void 0!==n&&"error"!==n,o=c?h(n.price,n.currencyId):0;if("error"===n)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Error"));var l=c?r.a.createElement("div",{className:"shelf-item","data-sku":n.sku},r.a.createElement("div",null,r.a.createElement(_,{classes:"shelf-item__thumb",src:a(80)("./".concat(n.sku,".png")),alt:n.title}),r.a.createElement("p",{className:"shelf-item__title"},"Name: ",n.title),r.a.createElement("p",{className:"shelf-item__title"},"Style: ",n.style),r.a.createElement("p",{className:"shelf-item__title"},"SKU: ",n.sku),r.a.createElement("div",{className:"shelf-item__price"},r.a.createElement("div",{className:"val"},r.a.createElement("small",null,n.currencyFormat),o.substr(0,o.length-3),r.a.createElement("span",null,o.substr(o.length-3,3)))))):"Loading...";return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(E,null),r.a.createElement("div",null,l))}}]),t}(n.Component),N=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.handleHide,n=e.productId;return r.a.createElement(y.b,{show:t},r.a.createElement(y.b.Header,null,r.a.createElement(y.b.Title,null,"Item Details")),r.a.createElement(y.b.Body,null,r.a.createElement(j,{id:n})),r.a.createElement(y.b.Footer,null,r.a.createElement(y.a,{onClick:a},"Close")))}}]),t}(n.Component),C=Object(g.a)({name:"itemmodal"})(N),P=Object(p.b)(null,{addProduct:function(e){return{type:"ADD_PRODUCT",payload:e}}})(function(e){var t=e.product,n=e.handleOpen,c=e.addProduct;t.quantity=1;var o=h(t.price,t.currencyId);return r.a.createElement("div",{className:"shelf-item","data-sku":t.sku},r.a.createElement("div",{className:"item-details",onClick:function(){return n(t)}},r.a.createElement(_,{classes:"shelf-item__thumb",src:a(80)("./".concat(t.sku,".png")),alt:t.title}),r.a.createElement("p",{className:"shelf-item__title"},t.title),r.a.createElement("div",{className:"shelf-item__price"},r.a.createElement("div",{className:"val"},r.a.createElement("small",null,t.currencyFormat),r.a.createElement("b",null,o.substr(0,o.length-3)),r.a.createElement("span",null,o.substr(o.length-3,3))))),r.a.createElement("div",{onClick:function(){return c(t)},className:"shelf-item__buy-btn"},"Add to cart"))}),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleOpen=function(e){(0,a.props.show)("itemmodal",{productId:e.id})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.products.map(function(t){return r.a.createElement(P,{product:t,handleOpen:e.handleOpen,key:t.id})});return r.a.createElement("div",{className:"shelf-container-inner"},t,r.a.createElement(C,null))}}]),t}(n.Component),k=Object(p.b)(null,function(e){return Object(O.b)({show:g.c},e)})(T),w=(a(230),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1},a.handleFetchProducts=function(){a.setState({isLoading:!0}),a.props.fetchProducts(function(){a.setState({isLoading:!1})})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchProducts()}},{key:"render",value:function(){var e=this.props.products,t=this.state.isLoading;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(E,null),r.a.createElement("div",{className:"shelf-container"},r.a.createElement(b,{productsLength:e.length}),r.a.createElement(k,{products:e})))}}]),t}(n.Component)),S=Object(p.b)(function(e){return{products:e.shelf.products}},{fetchProducts:function(e){return function(t){return f.a.get("/api/items").then(function(a){var n=a.data;return e&&e(),t({type:"FETCH_PRODUCTS",payload:n})}).catch(function(e){console.log("Could not fetch products. Try again later.")})}}})(w),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isMouseOver:!1},a.handleMouseOver=function(){a.setState({isMouseOver:!0})},a.handleMouseOut=function(){a.setState({isMouseOver:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.product,c=t.removeProduct,o=["shelf-item"];return this.state.isMouseOver&&o.push("shelf-item--mouseover"),r.a.createElement("div",{className:o.join(" ")},r.a.createElement("div",{className:"shelf-item__del",onMouseOver:function(){return e.handleMouseOver()},onMouseOut:function(){return e.handleMouseOut()},onClick:function(){return c(n)}}),r.a.createElement(_,{classes:"shelf-item__thumb",src:a(80)("./".concat(n.sku,".png")),alt:n.title}),r.a.createElement("div",{className:"shelf-item__details"},r.a.createElement("p",{className:"title"},n.title),r.a.createElement("p",{className:"desc"},"Quantity: ",n.quantity)),r.a.createElement("div",{className:"shelf-item__price"},r.a.createElement("p",null,"".concat(n.currencyFormat,"  ").concat(h(n.price)))))}}]),t}(n.Component),D=(a(231),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.openFloatCart=function(){a.setState({isOpen:!0})},a.closeFloatCart=function(){a.setState({isOpen:!1})},a.addProduct=function(e){var t=a.props,n=t.cartProducts,r=t.updateCart,c=!1;n.forEach(function(t){t.id===e.id&&(t.quantity+=e.quantity,c=!0)}),c||n.push(e),r(n),a.openFloatCart()},a.removeProduct=function(e){var t=a.props,n=t.cartProducts,r=t.updateCart,c=n.findIndex(function(t){return t.id===e.id});c>=0&&(n.splice(c,1),r(n))},a.proceedToCheckout=function(){var e=[];a.props.cartProducts.forEach(function(t){e.push(t.id)}),console.log(e),f.a.post(v,{itemIds:e}).then(function(e){alert("placed order")}).catch(function(e){console.log("Could not fetch products. Try again later.")})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.newProduct!==this.props.newProduct&&this.addProduct(e.newProduct),e.productToRemove!==this.props.productToRemove&&this.removeProduct(e.productToRemove)}},{key:"render",value:function(){var e=this,t=this.props,a=t.cartTotal,n=t.cartProducts,c=t.removeProduct,o=n.map(function(e){return r.a.createElement(F,{product:e,removeProduct:c,key:e.id})}),l=["float-cart"];return this.state.isOpen&&l.push("float-cart--open"),r.a.createElement("div",{className:l.join(" ")},this.state.isOpen&&r.a.createElement("div",{onClick:function(){return e.closeFloatCart()},className:"float-cart__close-btn"},"X"),!this.state.isOpen&&r.a.createElement("span",{onClick:function(){return e.openFloatCart()},className:"bag bag--float-cart-closed"},r.a.createElement("span",{className:"bag__quantity"},a.productQuantity)),r.a.createElement("div",{className:"float-cart__content"},r.a.createElement("div",{className:"float-cart__header"},r.a.createElement("span",{className:"bag"},r.a.createElement("span",{className:"bag__quantity"},a.productQuantity)),r.a.createElement("span",{className:"header-title"},"Cart")),r.a.createElement("div",{className:"float-cart__shelf-container"},o,!o.length&&r.a.createElement("p",{className:"shelf-empty"},"Add some products in the cart ",r.a.createElement("br",null),":)")),r.a.createElement("div",{className:"float-cart__footer"},r.a.createElement("div",{className:"sub"},"SUBTOTAL"),r.a.createElement("div",{className:"sub-price"},r.a.createElement("p",{className:"sub-price__val"},"".concat(a.currencyFormat," ").concat(h(a.totalPrice,a.currencyId))),r.a.createElement("small",{className:"sub-price__installment"},!!a.installments&&r.a.createElement("span",null,"OR UP TO ".concat(a.installments," x ").concat(a.currencyFormat," ").concat(h(a.totalPrice/a.installments,a.currencyId))))),r.a.createElement("div",{onClick:function(){return e.proceedToCheckout()},className:"buy-btn"},"Checkout"))))}}]),t}(n.Component)),R=Object(p.b)(function(e){return{cartProducts:e.cart.products,newProduct:e.cart.productToAdd,productToRemove:e.cart.productToRemove,cartTotal:e.total.data}},{loadCart:function(e){return{type:"LOAD_CART",payload:e}},updateCart:function(e){return function(t){var a=e.reduce(function(e,t){return e+=t.quantity},0),n=e.reduce(function(e,t){return e+=t.price*t.quantity},0);t({type:"UPDATE_CART",payload:{productQuantity:a,installments:e.reduce(function(e,t){return e=t.installments>e?t.installments:e},0),totalPrice:n,currencyId:"USD",currencyFormat:"$"}})}},removeProduct:function(e){return{type:"REMOVE_PRODUCT",payload:e}}})(D),A=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{id:"shop-title"},r.a.createElement("span",null,"Elastic Swag Shop")),r.a.createElement(S,null)),r.a.createElement(R,null))}}]),t}(n.Component),x=a(117),L=a(26),U={products:[]},M={products:[]},I={data:{productQuantity:0,installments:0,totalPrice:0,currencyId:"USD",currencyFormat:"$"}},q={type:""},Q=Object(O.c)({shelf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return Object(L.a)({},e,{products:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CART":return Object(L.a)({},e,{products:t.payload});case"ADD_PRODUCT":return Object(L.a)({},e,{productToAdd:Object.assign({},t.payload)});case"REMOVE_PRODUCT":return Object(L.a)({},e,{productToRemove:Object.assign({},t.payload)});default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CART":return Object(L.a)({},e,{data:t.payload});default:return e}},sort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SORT":return Object(L.a)({},e,{type:t.payload});default:return e}},modal:g.b}),B=function(e){e=JSON.parse(window.localStorage.getItem("state"))||e;var t=[x.a],a=Object(O.e)(Q,e,Object(O.d)(O.a.apply(void 0,t)));return a.subscribe(function(){var e=a.getState(),t={cart:e.cart,total:e.total};window.localStorage.setItem("state",JSON.stringify(t))}),a},H=function(e){var t=e.children,a=e.initialState,n=void 0===a?{}:a;return r.a.createElement(p.a,{store:B(n)},t)};a(232);o.a.render(r.a.createElement(H,null,r.a.createElement(A,null)),document.getElementById("root"))},80:function(e,t,a){var n={"./01.png":218,"./02.png":219,"./03.png":220,"./04.png":221,"./05.png":222,"./06.png":223,"./07.png":224,"./08.png":225,"./09.png":226,"./10.png":227,"./11.png":228,"./12.png":229};function r(e){var t=c(e);return a(t)}function c(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=80}},[[118,1,2]]]);
//# sourceMappingURL=main.94094022.chunk.js.map